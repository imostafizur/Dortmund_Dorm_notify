{
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [0, 0],
      "id": "chat-trigger-id",
      "name": "Chat Trigger"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.chatInput }}",
        "options": {
          "systemMessage": "You are an autonomous Senior Developer. Your goal is to write code that works. \n1. Write the code.\n2. Use the Code Tool to run it.\n3. If it fails or the output is wrong, analyze the error and FIX it.\n4. Repeat until the output is 100% correct.\n5. Only provide the final working code and the successful output."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [340, 0],
      "id": "ai-agent-id",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "google/gemini-2.0-flash-001",
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [160, 220],
      "id": "openrouter-id",
      "name": "OpenRouter Chat Model"
    },
    {
      "parameters": {
        "name": "code_interpreter",
        "description": "Run Python code and return the output or error. Use this to test your logic."
      },
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1,
      "position": [500, 220],
      "id": "code-tool-id",
      "name": "Code Tool"
    }
  ],
  "connections": {
    "Chat Trigger": {
      "main": [[{ "node": "AI Agent", "type": "main", "index": 0 }]]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [[{ "node": "AI Agent", "type": "ai_languageModel", "index": 0 }]]
    },
    "Code Tool": {
      "ai_tool": [[{ "node": "AI Agent", "type": "ai_tool", "index": 0 }]]
    }
  }
}
